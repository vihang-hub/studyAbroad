# ============================================================================
# Test Environment Configuration Template
# ============================================================================
# Copy this file to .env.test and fill in the values
# This file should NOT be committed to git
# ============================================================================

# Environment Mode
ENVIRONMENT_MODE=test
NODE_ENV=test

# Application
APP_NAME=Study Abroad MVP
APP_VERSION=1.0.0
NEXT_PUBLIC_APP_URL=https://test.studyabroad.example.com
NEXT_PUBLIC_API_URL=https://api-test.studyabroad.example.com
API_URL=https://api-test.studyabroad.example.com
PORT=8000

# Database (Supabase)
ENABLE_SUPABASE=true
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
DATABASE_URL=postgresql://postgres:your_password@db.your-project-id.supabase.co:5432/postgres
DATABASE_POOL_MAX=20
DATABASE_IDLE_TIMEOUT_MS=30000
DATABASE_CONNECTION_TIMEOUT_MS=2000

# Feature Flags
ENABLE_PAYMENTS=false  # Payment bypassed in test mode
ENABLE_RATE_LIMITING=true
ENABLE_OBSERVABILITY=false

# Logging
LOG_LEVEL=debug
LOG_DIR=/var/log/studyabroad
LOG_MAX_SIZE_MB=100
LOG_ROTATION_DAYS=1
LOG_RETENTION_DAYS=30
LOG_CONSOLE_ENABLED=false
LOG_PRETTY_PRINT=false

# Clerk Authentication (Test Environment)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_test_publishable_key_here
CLERK_SECRET_KEY=sk_test_your_test_secret_key_here
CLERK_WEBHOOK_SECRET=whsec_your_test_webhook_secret_here
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/chat
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/chat

# Stripe Payment (Test Mode - Payment Bypassed)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_test_key_here
STRIPE_SECRET_KEY=sk_test_your_stripe_test_secret_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_test_webhook_secret_here
STRIPE_PRICE_ID=price_your_test_price_id_here
PAYMENT_AMOUNT=2.99
PAYMENT_CURRENCY=GBP

# Gemini AI (Test API Key)
GEMINI_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXX
GEMINI_MODEL=gemini-1.5-pro
GEMINI_MAX_TOKENS=8192
GEMINI_TEMPERATURE=0.7
GEMINI_TIMEOUT_MS=60000

# Rate Limiting (Less restrictive for testing)
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW_SEC=60
RATE_LIMIT_REPORTS_PER_DAY=100

# ============================================================================
# Test Environment Setup Instructions
# ============================================================================

# 1. Create Supabase project:
#    - Go to https://supabase.com/dashboard
#    - Create new project
#    - Copy connection string and keys

# 2. Apply migrations:
#    - Connect to Supabase via SQL editor
#    - Run: shared/database/migrations/001_initial_schema.sql
#    - Run: docs/database/rls-policies.sql

# 3. Deploy to Cloud Run (Backend):
#    gcloud run deploy studyabroad-backend-test \
#      --image gcr.io/PROJECT_ID/studyabroad-backend:test \
#      --platform managed \
#      --region us-central1 \
#      --set-env-vars ENVIRONMENT_MODE=test

# 4. Deploy to Vercel (Frontend):
#    vercel --env=test

# ============================================================================
